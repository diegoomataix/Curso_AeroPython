""" 
1. Create a class that contains information regarding Near Earth Objects (NEOs). Use the Small Body Database (SBDB).
2. Plot their orbits
"""

import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

class NEO:
    def __init__(self, name, a, e, i, w, Node, M0, H, G):
        self.name = name
        self.a = a
        self.e = e
        self.i = i
        self.w = w
        self.Node = Node
        self.M0 = M0
        self.H = H
        self.G = G

def plot_orbits(neos):
    fig = plt.figure()
    ax = fig.add_subplot(111, projection='3d')
    for neo in neos:
        a = neo.a
        e = neo.e
        i = neo.i
        w = neo.w
        Node = neo.Node
        M0 = neo.M0
        H = neo.H
        G = neo.G
        t = np.linspace(0, 2*np.pi, 100)
        x = a*(np.cos(t) - e)
        y = a*np.sqrt(1 - e**2)*np.sin(t)
        z = 0
        ax.plot(x, y, z, label=neo.name)
    ax.legend()
    plt.tight_layout()
    plt.show()

def main():
    neos = []
    # neos.append(NEO('Eros', 1.457916888347732, 0.2226769029627053, 10.59393352240914, 126.12586840774093, 73.96250926958084, 131.76755716943905, 0.37, 0.15))
    neos.append(NEO('Albert', 2.629584157344544, 0.551788195302116, 0.772981273624151, 160.1669347518947, 73.96250926958084, 131.76755716943905, 0.67, 0.07))
    neos.append(NEO('Alinda', 2.477642943521562, 0.5675993715753302, 5.222939676515105, 161.38963305668878, 73.96250926958084, 131.76755716943905, 0.75, 0.06))
    neos.append(NEO('Ganymed', 2.662242764279804, 0.5339300994578989, 0.8499481860565202, 141.8370866149636, 73.96250926958084, 131.76755716943905, 0.77, 0.08))
    # neos.append(NEO('Amor', 1.077941311539208, 0.1821306131369974, 10.470173645895725, 108.55163060732475, 73.96250926958084, 131.76755716943905, 0.42, 0.13))
    # neos.append(NEO('Icarus', 1.436332312995946, 0.2123289627168825, 10.879291334154072, 110.20632123947334, 73.96250926958084, 131.76755716943905, 0.38, 0.21))
    # neos.append(NEO('Betulia', 2.196489260519891, 0.4444505596153395, 2.095047235147762, 145.20780515239374, 73.96250926958084, 131.76755716943905, 0.77, 0.10))
    # neos.append(NEO('Geographos', 1.245477192797457, 0.255227711984325, 10.470173645895725, 102.85968012315607, 73.96250926958084, 131.76755716943905, 0.40, 0.10))
    # neos.append(NEO('Ivar', 1.298873871051216, 0.288950446001555, 10.879291334154072, 104.33341601508638, 73.96250926958084, 131.76755716943905, 0.42, 0.10))
    # neos.append(NEO('Toro', 1.372759805130005, 0.274176549129484, 10.879291334154072, 113.39885763707788, 73.96250926958084, 131.76755716943905, 0.42, 0.12))
    # neos.append(NEO('Apollo', 1.470694262588244, 0.2119974998458446, 10.470173645895725, 110.20632123947334, 73.96250926958084, 131.76755716943905, 0.38, 0.10))
    # neos.append(NEO('Antinous', 2.258479598510079, 0.3747901350428663, 2.095047235147762, 140.65961325454466, 73.96250926958084, 131.76755716943905, 0.76, 0.06))
    neos.append(NEO('Daedalus', 1.460912865705988, 0.6140057641348552, 3.6269832154170036, 33.43586886153845, 73.96250926958084, 131.76755716943905, 0.18, 0.04))
    # neos.append(NEO('Cerberus', 1.079965807367047, 0.4393441277255839, 3.6269832154170036, 39.87469767511287, 73.96250926958084, 131.76755716943905, 0.19, 0.04))
    # neos.append(NEO('Sisyphus', 1.893726635847921, 0.3396376110203776, 3.142348309612334, 38.58772950377118, 73.96250926958084, 131.76755716943905, 0.22, 0.04))
    # neos.append(NEO('Quetzalcoatl', 2.544270656955212, 0.5447734616353363, 5.192280777435304, 139.05769291308602, 73.96250926958084, 131.76755716943905, 0.78, 0.06))
    # neos.append(NEO('Boreas', 2.271958775354725, 0.4478259793515817, 5.192280777435304, 138.4407373098705, 73.96250926958084, 131.76755716943905, 0.77, 0.06))
    neos.append(NEO('Cuyo', 2.150453953345012, 0.504173938607225, 5.192280777435304, 137.8135683517299, 73.96250926958084, 131.76755716943905, 0.76, 0.06))
    plot_orbits(neos)
    
main()